!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Validate=t():e.Validate=t()}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n=r(1),o=n(r(2)),a=n(r(6)),u=n(r(7)),i=function(){function e(t,r){(0,a.default)(this,e),this.rule=t,this.messageRuleSetting=r||{},this.errorMsg="error",this.errorMsgs=[],this.debug=!1,this.validateRules={email:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,number:/^-?\d*\.?\d+$/,chinese:/^[\u4e00-\u9fa5]+$/,idcard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,mobile:/^[1][3-9][0-9]{9}$/,require:function(e){return!(null==e||""===e)},max:function(e,t){return!((""+e).length>parseInt(t))},min:function(e,t){return!((""+e).length<parseInt(t))},"<":function(){var e;return(e=this.validateRules).lt.apply(e,arguments)},">":function(){var e;return(e=this.validateRules).gt.apply(e,arguments)},"<=":function(){var e;return(e=this.validateRules).elt.apply(e,arguments)},">=":function(){var e;return(e=this.validateRules).egt.apply(e,arguments)},lt:function(e,t){return parseFloat(e)<parseFloat(t)},gt:function(e,t){return parseFloat(e)>parseFloat(t)},elt:function(e,t){return parseFloat(e)<=parseFloat(t)},egt:function(e,t){return parseFloat(e)>=parseFloat(t)},integer:function(e){return!isNaN(e)&&parseInt(e)==parseFloat(e)},in:function(){for(var e=1,t=arguments.length;e<t;e++)if(arguments[0]==arguments[e])return!0;return!1},notIn:function(){for(var e=1,t=arguments.length;e<t;e++)if(arguments[0]==arguments[e])return!1;return!0},float:function(e){return/^[-+]?[0-9]*\.?[0-9]*$/.test(e)},bool:function(e){return this.validateRules.boolean(e)},boolean:function(e){return"boolean"==typeof e||("true"==e||"false"==e)},array:function(e){return Array.isArray(e)},accepted:function(e){return"yes"==e||"on"==e||1==parseInt(e)},length:function(e,t,r){return r?(e+"").length>=t&&(e+"").length<=r:(e+"").length==parseInt(t)}},this.message={number:"$0只能是数字",integer:"$0只能填整数",float:"$0只能浮点数",boolean:"$0只能填布尔值",bool:"$0只能填布尔值",email:"$0格式不正确",array:"$0数据类型不正确",accepted:"$0必须同意",chinese:"$0只能是中文",idcard:"$0格式不正确",mobile:"$0格式不正确",require:"$0不能为空",length:"$0长度只能是$1到$2个字符","length:1":"$0长度只能是$1",min:"$0的长度至少$1个",max:"$0的长度不能超过$1个",eq:"$0只能是$1",neq:"$0不能为$1",gt:"$0需要大于$1",">":"$0需要大于$1",lt:"$0需要小于$1","<":"$0需要小于$1",egt:"$0需要大于等于$1",">=":"$0需要大于等于$1",elt:"$0需要小于等于$1","<=":"$0需要小于等于$1",between:"$0值只能在$1到$2之间",in:"$0只能取$n",notIn:"$0不能在$n之间",confirm:"$0与:1不一致"},this.data={}}return(0,u.default)(e,[{key:"rule",value:function(){}},{key:"parse",value:function(e){var t=e.split("|"),r={};for(var n in t){var o=t[n].split(":"),a=o[0],u=o[1]?o[1].split(","):[];r[a]={name:a,args:u}}return r}},{key:"check",value:function(e,t,r){var n=this;this.errorMsgs=[],this.errorMsg="",t=t||!1,r=r||!1,this.data=e;var a=function(){var a=u,l=a,c=n.rule[u],f=a.split("|");f.length>1&&(a=f[0],l=f[1]),i=n.parse(c),n.debug&&console.log("解析规则",i);var p=[],g=function(){p.push("开始验证"+s);var t=i[s].args;if(!n.validateRules.require(e[a])&&!i.require)return p.push("没有填写可以不验证的"),"continue";if(!n.validateRules[s])return console.log("未定义验证规则".concat(s)),p.push("未定义验证规则".concat(s)),"continue";var u="function"==typeof n.validateRules[s]?n.validateRules[s].apply(n,[e[a]].concat((0,o.default)(t))):n.validateRules[s].test(e[a]);if(p.push({vArgs:t,data:e[a],validate:s,status:u?"成功":"失败"}),!u){var c="".concat(l,"参数错误");if(n.messageRuleSetting["".concat(a,".").concat(s)])c=n.messageRuleSetting["".concat(a,".").concat(s)];else if(n.messageRuleSetting[a])c=n.messageRuleSetting[a];else if(n.message[s]){var f=t.length;c=(n.message[s+":"+f]||n.message[s]).replace(/\$([\din])+/g,(function(e,r){if("$0"==e)return l;if("$n"==e)return t.join(",");var n=e.match(/\$([\dn]+)/),o=parseInt(n[1]);return t[o-1]}))}if(n.errorMsgs.push({field:a,name:l,rule:s,msg:c,args:t}),!r)return"break"}};e:for(s in i){switch(g()){case"continue":continue;case"break":break e}}if(n.debug&&console.log(p),n.errorMsgs.length&&(n.errorMsg=n.errorMsgs[0].msg,!t))return"break"};for(var u in this.rule){var i,s;if("break"===a())break}return!this.errorMsgs.length}},{key:"getError",value:function(){return this.errorMsg}},{key:"getErrorInfo",value:function(){return this.errorMsgs[0]}},{key:"getErrors",value:function(){return this.errorMsgs}},{key:"getErrorField",value:function(){return!!this.errorMsgs.length&&this.errorMsgs[0].field}},{key:"getRules",value:function(e){}}]),e}();e.exports=i},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){var n=r(3),o=r(4),a=r(5);e.exports=function(e){return n(e)||o(e)||a()}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}}])}));