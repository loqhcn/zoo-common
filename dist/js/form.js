!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],r);else{var t="object"==typeof exports?r(require("jquery")):r(e.$);for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(window,(function(e){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var a in e)t.d(n,a,function(r){return e[r]}.bind(null,a));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r,t){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0});var n,a=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),o=t(2),i=(n=o)&&n.__esModule?n:{default:n};t(3);var l=new(function(){function r(){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),this.debug=!1,this.option={},this.parseRuleData={radio:function(r){for(var t=e(r),n=0;n<t.length;n++){var a=t[n];if(a.checked)return a.value||n}return null},checkbox:function(r){var t=e(r)[0];return!!t.checked||null}},this.rules={required:{rule:"require"},maxlength:{rule:"max"},minlength:{rule:"min"},lt:{rule:"lt"},gt:{rule:"gt"},notin:{rule:"notIn"},in:{rule:"in"},integer:{rule:"integer"},number:{rule:"number"},mobile:{rule:"mobile"},email:{rule:"email"},idcard:{rule:"idcard"}},this.componentsActions={input:"blur",checkbox:"change","select-one":"change",select:"change",radio:"change"}}return a(r,[{key:"getHandleType",value:function(e){}},{key:"setOption",value:function(e){this.option=e}},{key:"parseRule",value:function(r,t){if("radio"==(r=e(r)[0]).type)return{error:"radio需要使用父容器验证",errorType:"radio",el:r};var n=r.getAttributeNames(),a=(Object.keys(this.rules),e(r).attr("name")),o=e(r).attr("name-show"),i=e(r).val(),l=t||r,s=e(l).type||e(l)[0].type;if(t&&(a=e(t).attr("name"),i=e(t).val()),this.parseRuleData[s]&&(i=this.parseRuleData[s](l)),!a)return{error:"未获取到name",errorType:"noname",el:r,valSelecter:t};for(var u={},c={},f=0;f<n.length;f++)if(this.rules[n[f]]){var d=this.rules[n[f]],v=e(r).attr(n[f]);u[d.rule]=v,c[n[f]]={attrName:n[f],ruleName:d.rule,rule:v}}var p=[];for(var h in c){var g=c[h].rule&&c[h].rule!=c[h].attrName?":"+c[h].rule:"";p.push(""+c[h].ruleName+g)}var m=e(r).attr("validate-action")||(this.componentsActions[s]?this.componentsActions[s]:"blur");return{error:!1,el:r,dataEl:e(l)[0],name:a,elNameShow:o,val:i,rule:p.join("|"),ruleObj:u,actionName:m,ruleParseData:c}}},{key:"registerValidate",value:function(r,t,n){var a=this;t=t||"change";var o=function(t){var o=[r],s=l.parseValidateElItem(o),u=s.validateRules,c=(s.validateFieldsEl,s.data),f=new i.default(u,a.option.errorMsg);if(a.option.removeAction?a.option.removeError:a.removeError(r,n),!f.check(c,!0)){var d=f.getErrorInfo(),v=e(r).attr("errormsg")||d.msg;a.option.placeholderMsg&&n.placeholder&&"require"==d.rule&&(v=n.placeholder),a.option.showError?a.option.showError(v,r,n,!0):a.showError(v,r,n,!0)}};e(r).on(t,o),"radio"!=n.type&&e(n).on(t,o)}},{key:"isContainerEl",value:function(e){for(var r=["div"],t=0;t<r.length;t++){var n=r[t];if(n.tagName==n)return!0}return!1}},{key:"showError",value:function(r,t,n){t.validateError=!0,e(t).addClass(this.option.errorClass),e(t).after('<div class="validate-err-msg"><div class="validate-err-msg-content">'+r+"</div></div>")}},{key:"removeError",value:function(r,t){(e(r).removeClass(this.option.errorClass),1==r.validateError)&&(e(r).next().remove(),r.validateError=!1)}},{key:"removeAllError",value:function(r){e(r).find(this.option.errorClass).removeClass(this.option.errorClass),e(".validate-err-msg").remove()}},{key:"parseValidateElItem",value:function(r){for(var t=[],n={},a=[],o=0;o<r.length;o++){var i=r[o],l=e(i).attr("validate-field")||!1,s=this.parseRule(i,l);s.error?this.debug&&console.log("rule error",s):n[s.name]?a.push("已存在规则"+s.name):(n[s.name]=s,t.push(s))}this.debug&&console.log("解析出规则",t);for(var u={},c={},f={},d={},v={},p=0;p<t.length;p++){var h=t[p],g=h.elNameShow?"|"+h.elNameShow:"";u[h.name+g]=h.rule,v[h.name]=h.val,c[h.name]=h.el,f[h.name]=h.dataEl,d[h.name]=h.actionName}return this.debug&&a.length&&console.log("规则解析记录",a),{validateRules:u,validateFieldsEl:c,validateFieldsDataEl:f,data:v,validateFieldsAction:d}}},{key:"getFieldActionType",value:function(){}}]),r}());e.fn.validateForm=function(r){r={validateClass:(r=r||{}).validateClass||"validate-field",errorClass:r.errorClass||"validate-err",debug:r.debug,showError:r.showError||!1,removeError:r.removeError||!1,removeAllError:r.removeAllError||!1,placeholderMsg:void 0!==r.placeholderMsg&&r.placeholderMsg,onlyOneError:void 0!==r.onlyOneError&&r.onlyOneError,errorMsg:r.errorMsg||{},disableReValidate:void 0!==r.disableReValidate&&r.disableReValidate},l.debug=r.debug,l.setOption(r),l.removeAllError(this);var t=e("."+r.validateClass+",input,select,textarea"),n=l.parseValidateElItem(t),a=n.validateRules,o=n.validateFieldsEl,s=n.validateFieldsDataEl,u=n.data,c=n.validateFieldsAction,f=new i.default(a,r.errorMsg);if(f.debug=r.debug,!f.check(u,!r.onlyOneError)){for(var d=f.getErrors(),v=0;v<d.length;v++){var p=d[v],h=o[p.field],g=s[p.field],m=e(o[p.field]).attr("errormsg")||p.msg;r.placeholderMsg&&g.placeholder&&"require"==p.rule&&(m=g.placeholder),r.showError?r.showError(m,h,g):l.showError(m,h,g);var b=c[p.field]||"blur";r.disableReValidate||l.registerValidate(h,b,g)}return!1}return!0},r.default=l}).call(this,t(1))},function(r,t){r.exports=e},function(e,r,t){"use strict";var n=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}();var a=function(){function e(r,t){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),this.rule=r,this.messageRuleSetting=t||{},this.errorMsg="error",this.errorMsgs=[],this.debug=!1,this.validateRules={email:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,number:/^-?\d*\.?\d+$/,chinese:/^[\u4e00-\u9fa5]+$/,idcard:/^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/,mobile:/^[1][3-9][0-9]{9}$/,require:function(e){return!(null==e||""===e)},max:function(e,r){return!((""+e).length>parseInt(r))},min:function(e,r){return!((""+e).length<parseInt(r))},"<":function(){var e;return(e=this.validateRules).lt.apply(e,arguments)},">":function(){var e;return(e=this.validateRules).gt.apply(e,arguments)},"<=":function(){var e;return(e=this.validateRules).elt.apply(e,arguments)},">=":function(){var e;return(e=this.validateRules).egt.apply(e,arguments)},lt:function(e,r){return parseFloat(e)<parseFloat(r)},gt:function(e,r){return parseFloat(e)>parseFloat(r)},elt:function(e,r){return parseFloat(e)<=parseFloat(r)},egt:function(e,r){return parseFloat(e)>=parseFloat(r)},integer:function(e){return!isNaN(e)&&parseInt(e)==parseFloat(e)},in:function(){for(var e=1,r=arguments.length;e<r;e++)if(arguments[0]==arguments[e])return!0;return!1},notIn:function(){for(var e=1,r=arguments.length;e<r;e++)if(arguments[0]==arguments[e])return!1;return!0},float:function(e){return/^[-+]?[0-9]*\.?[0-9]*$/.test(e)},bool:function(e){return this.validateRules.boolean(e)},boolean:function(e){return"boolean"==typeof e||("true"==e||"false"==e)},array:function(e){return Array.isArray(e)},accepted:function(e){return"yes"==e||"on"==e||1==parseInt(e)},length:function(e,r,t){return t?(e+"").length>=r&&(e+"").length<=t:(e+"").length==parseInt(r)}},this.message={number:"$0只能是数字",integer:"$0只能填整数",float:"$0只能浮点数",boolean:"$0只能填布尔值",bool:"$0只能填布尔值",email:"$0格式不正确",array:"$0数据类型不正确",accepted:"$0必须同意",chinese:"$0只能是中文",idcard:"$0格式不正确",mobile:"$0格式不正确",require:"$0不能为空",length:"$0长度只能是$1到$2个字符","length:1":"$0长度只能是$1",min:"$0的长度至少$1个",max:"$0的长度不能超过$1个",eq:"$0只能是$1",neq:"$0不能为$1",gt:"$0需要大于$1",">":"$0需要大于$1",lt:"$0需要小于$1","<":"$0需要小于$1",egt:"$0需要大于等于$1",">=":"$0需要大于等于$1",elt:"$0需要小于等于$1","<=":"$0需要小于等于$1",between:"$0值只能在$1到$2之间",in:"$0只能取$n",notIn:"$0不能在$n之间",confirm:"$0与:1不一致"},this.data={}}return n(e,[{key:"rule",value:function(){}},{key:"parse",value:function(e){var r=e.split("|"),t={};for(var n in r){var a=r[n].split(":"),o=a[0],i=a[1]?a[1].split(","):[];t[o]={name:o,args:i}}return t}},{key:"check",value:function(e,r,t){var n=this;this.errorMsgs=[],this.errorMsg="",r=r||!1,t=t||!1,this.data=e;var a=function(){var a=o,s=a,u=n.rule[o],c=a.split("|");c.length>1&&(a=c[0],s=c[1]),i=n.parse(u),n.debug&&console.log("解析规则",i);var f=[],d=function(){f.push("开始验证"+l);var r=i[l].args;if(!n.validateRules.require(e[a])&&!i.require)return f.push("没有填写可以不验证的"),"continue";if(!n.validateRules[l])return console.log("未定义验证规则"+l),f.push("未定义验证规则"+l),"continue";var o="function"==typeof n.validateRules[l]?n.validateRules[l].apply(n,[e[a]].concat(function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(r))):n.validateRules[l].test(e[a]);if(f.push({vArgs:r,data:e[a],validate:l,status:o?"成功":"失败"}),!o){var u=s+"参数错误";if(n.messageRuleSetting[a+"."+l])u=n.messageRuleSetting[a+"."+l];else if(n.messageRuleSetting[a])u=n.messageRuleSetting[a];else if(n.message[l]){var c=r.length;u=(n.message[l+":"+c]||n.message[l]).replace(/\$([\din])+/g,(function(e,t){if("$0"==e)return s;if("$n"==e)return r.join(",");var n=e.match(/\$([\dn]+)/),a=parseInt(n[1]);return r[a-1]}))}if(n.errorMsgs.push({field:a,name:s,rule:l,msg:u,args:r}),!t)return"break"}};e:for(l in i){switch(d()){case"continue":continue;case"break":break e}}if(n.debug&&console.log(f),n.errorMsgs.length&&(n.errorMsg=n.errorMsgs[0].msg,!r))return"break"};for(var o in this.rule){var i,l;if("break"===a())break}return!this.errorMsgs.length}},{key:"getError",value:function(){return this.errorMsg}},{key:"getErrorInfo",value:function(){return this.errorMsgs[0]}},{key:"getErrors",value:function(){return this.errorMsgs}},{key:"getErrorField",value:function(){return!!this.errorMsgs.length&&this.errorMsgs[0].field}},{key:"getRules",value:function(e){}}]),e}();e.exports=a},function(e,r,t){var n=t(4);"string"==typeof n&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};t(6)(n,a);n.locals&&(e.exports=n.locals)},function(e,r,t){(e.exports=t(5)(!1)).push([e.i,".validate-err {\r\n    border-color: red;\r\n}\r\n\r\n.validate-err-msg {\r\n    margin: 0;\r\n    position: relative;\r\n    display: unset;\r\n}\r\n\r\n.validate-err-msg-content {\r\n    position: absolute;\r\n    width: 100%;\r\n    color: red;\r\n    width: max-content;\r\n}",""])},function(e,r,t){"use strict";e.exports=function(e){var r=[];return r.toString=function(){return this.map((function(r){var t=function(e,r){var t=e[1]||"",n=e[3];if(!n)return t;if(r&&"function"==typeof btoa){var a=(i=n,l=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(l),"/*# ".concat(s," */")),o=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot).concat(e," */")}));return[t].concat(o).concat([a]).join("\n")}var i,l,s;return[t].join("\n")}(r,e);return r[2]?"@media ".concat(r[2],"{").concat(t,"}"):t})).join("")},r.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},a=0;a<this.length;a++){var o=this[a][0];null!=o&&(n[o]=!0)}for(var i=0;i<e.length;i++){var l=e[i];null!=l[0]&&n[l[0]]||(t&&!l[2]?l[2]=t:t&&(l[2]="(".concat(l[2],") and (").concat(t,")")),r.push(l))}},r}},function(e,r,t){"use strict";var n,a={},o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var e={};return function(r){if(void 0===e[r]){var t=document.querySelector(r);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[r]=t}return e[r]}}();function l(e,r){for(var t=[],n={},a=0;a<e.length;a++){var o=e[a],i=r.base?o[0]+r.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};n[i]?n[i].parts.push(l):t.push(n[i]={id:i,parts:[l]})}return t}function s(e,r){for(var t=0;t<e.length;t++){var n=e[t],o=a[n.id],i=0;if(o){for(o.refs++;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(g(n.parts[i],r))}else{for(var l=[];i<n.parts.length;i++)l.push(g(n.parts[i],r));a[n.id]={id:n.id,refs:1,parts:l}}}}function u(e){var r=document.createElement("style");if(void 0===e.attributes.nonce){var n=t.nc;n&&(e.attributes.nonce=n)}if(Object.keys(e.attributes).forEach((function(t){r.setAttribute(t,e.attributes[t])})),"function"==typeof e.insert)e.insert(r);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(r)}return r}var c,f=(c=[],function(e,r){return c[e]=r,c.filter(Boolean).join("\n")});function d(e,r,t,n){var a=t?"":n.css;if(e.styleSheet)e.styleSheet.cssText=f(r,a);else{var o=document.createTextNode(a),i=e.childNodes;i[r]&&e.removeChild(i[r]),i.length?e.insertBefore(o,i[r]):e.appendChild(o)}}function v(e,r,t){var n=t.css,a=t.media,o=t.sourceMap;if(a&&e.setAttribute("media",a),o&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,h=0;function g(e,r){var t,n,a;if(r.singleton){var o=h++;t=p||(p=u(r)),n=d.bind(null,t,o,!1),a=d.bind(null,t,o,!0)}else t=u(r),n=v.bind(null,t,r),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return n(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;n(e=r)}else a()}}e.exports=function(e,r){(r=r||{}).attributes="object"==typeof r.attributes?r.attributes:{},r.singleton||"boolean"==typeof r.singleton||(r.singleton=o());var t=l(e,r);return s(t,r),function(e){for(var n=[],o=0;o<t.length;o++){var i=t[o],u=a[i.id];u&&(u.refs--,n.push(u))}e&&s(l(e,r),r);for(var c=0;c<n.length;c++){var f=n[c];if(0===f.refs){for(var d=0;d<f.parts.length;d++)f.parts[d]();delete a[f.id]}}}}}])}));